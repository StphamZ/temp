[
  {
    "bookSourceComment": "// by xireiki\n需要登录，不然部分正文不完整！！",
    "bookSourceGroup": "正版,曦灵",
    "bookSourceName": "番茄小说网",
    "bookSourceType": 0,
    "bookSourceUrl": "https://fanqienovel.com",
    "bookUrlPattern": "https://fanqienovel.com/page/[0-9]*",
    "customOrder": -2085959041,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"我的书架\",\"url\":\"https://fanqienovel.com/reading/bookapi/bookshelf/info/v:version/?aid=1967&iid=0&version_code=56910&update_version_code=56910\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}},{\"title\":\"——————以下是排行榜——————\",\"url\":\"\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}},{\"title\":\"————————男生————————\",\"url\":\"\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}},{\"title\":\"鉴宝\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=17&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"科幻\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=8&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"都市日常\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=261&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"都市修真\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=124&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"奇幻仙侠\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=259&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"历史古代\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=273&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"战神\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=27&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"都市种田\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=263&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"传统玄幻\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=258&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"历史脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=272&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"悬疑脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=539&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"都市脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=262&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"玄幻脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=257&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"赘婿\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=25&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"神医\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=26&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"悬疑灵异\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=751&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"抗战谍战\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=504&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"游戏体育\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=746&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"衍生同人\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=718&rank_version=&gender=1&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"————————女生————————\",\"url\":\"\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}},{\"title\":\"萌宝\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=28&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"玄幻言情\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=248&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"种田\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=23&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"马甲\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=266&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"年代\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=79&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"现言脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=267&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"宫斗宅斗\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=246&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"悬疑脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=539&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"古言脑洞\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=253&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"医术\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=247&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"快穿\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=24&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"青春甜宠\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=749&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"豪门爽文\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=745&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"悬疑恋爱\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=747&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"职场婚恋\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=750&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}},{\"title\":\"霸总\",\"url\":\"https://fanqienovel.com/api/rank/category/list?app_id=1967&rank_list_type=3&offset=0&limit=10&category_id=748&rank_version=&gender=0&rankMold=2\",\"style\":{\"layout_flexBasisPercent\":0.3,\"layout_flexGrow\":1}}]",
    "header": "<js>\n  let defaultVariable = {\n    \"volume\": {\n      \"status\": false,\n      \"mode\": 1,\n      \"spacer\": \" | \",\n      \"emptyVolumeName\": {\n        \"action\": false,\n        \"replace\": \"第一卷：默认\"\n      },\n      \"onlyOneShow\": false\n    }\n  }\n  let variable = source.getVariable();\n  if(variable != \"\" && variable != null){\n    try{\n      variable = JSON.parse(variable);\n    } catch(err) {\n      java.log(err);\n      variable = defaultVariable;\n      source.variable = JSON.stringify(defaultVariable);\n      java.toast(\"请按照规则修改源变量，已重置源变量！\")\n    }\n  } else {\n    variable = defaultVariable;\n    source.variable = JSON.stringify(defaultVariable);\n  }\n  let header = {\n    \"User-Agent\": \"Mozilla/5.0 (Linux; Android 10; MI 8 Lite Build/QKQ1.190910.002) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.5672.62 Mobile Safari/537.36\"\n  }\n  if(variable.cookie){\n    header.cookie = variable.cookie;\n  }\n  JSON.stringify(header)\n</js>",
    "lastUpdateTime": 1685713514716,
    "loginCheckJs": "",
    "loginUi": "",
    "loginUrl": "https://fanqienovel.com",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "$.page.author",
      "coverUrl": "$.page.thumbUri",
      "init": "<js>\n    result.match(/__INITIAL_STATE__=.*;/g)[0].slice(18,-1);\n</js>",
      "intro": "$.page.abstract<js>\"　　\" +result</js>",
      "kind": "$.page.categoryV2<js>let data = JSON.parse(result);data</js>$..Name",
      "lastChapter": "{{$.page.lastChapterTitle}}·{{java.timeFormat(1000 * java.getString('$.page.lastPublishTime'))}}",
      "name": "$.page.bookName",
      "tocUrl": "https://fanqienovel.com/api/reader/directory/detail?bookId={{$.page.bookId}}",
      "wordCount": "$.page.wordNumber"
    },
    "ruleContent": {
      "content": "tag.body.script@all\n<js>\n  let data = JSON.parse(result.match(/__INITIAL_STATE__=.*;/g)[0].slice(18,-1));\n  if(data.reader.chapterData.isChapterLock) java.toast(\"请购买会员并在阅读登录账号或在源变量添加会员 cookie !!!\");\n  let content = data.reader.chapterData.content;\n  content.replace(/<{1}[a-zA-Z_-]+\\ ({1,4}([a-zA-Z_\\-]+\\=(\\\"){1}){1}.*(\\\")?)+(\\ )*>?(.*<\\/[a-zA-Z-_]+>)?/g, \"\");\n</js>",
      "payAction": "@js:\njava.toast(\"请登录账号并购买会员！\")",
      "replaceRegex": "##<{1}[a-zA-Z_\\-]+.*>?(.*<\\/[a-zA-Z-_]+>)?"
    },
    "ruleExplore": {
      "author": "author",
      "bookList": "@js:\n  if(JSON.parse(src).code != 0){\n    java.toast(\"请先登录账号！\");\n  }\n  let list = [];\n  let resultData = JSON.parse(src).data;\n  let data;\n  if(resultData.book_shelf_info){\n    data = resultData.book_shelf_info;\n    let requestData = {books: []};\n    for(let i in data){\n      requestData[\"books\"].push({\n        book_id: data[i][\"book_id\"],\n        item_id: \"0\"\n      });\n    }\n    let booksData = java.ajax(\"https://fanqienovel.com/api/bookshelf/multidetail,{method: \\\"post\\\",body: \" + JSON.stringify(requestData) + \"}\");\n    let books = JSON.parse(booksData).data.detail_list;\n    for(let i in books){\n      let d = books[i];\n      list.push({\n        src: d,\n        book_name: d.book_name,\n        thumb_url: d.thumb_url,\n        abstract: d.abstract,\n        url: `https://fanqienovel.com/page/${d.book_id}`\n      });\n    }\n  } else if(resultData.book_list){\n    data = resultData.book_list;\n    function getCategoryName(category_tags){\n      let a = [];\n      for(let y in category_tags) a.push(category_tags[y].category_name);\n      java.log(a)\n      return a;\n    }\n    for(let i in data){\n      let d = data[i];\n      let e = JSON.parse(java.ajax(`https://novel.snssdk.com/api/novel/book/directory/list/v1?book_id=${d.bookId}`)).data.book_info;\n      list.push({\n        src: d,\n        src2: e,\n        author: e.author || \"\",\n        book_name: e.book_name || d.bookName,\n        thumb_url: e.thumb_url || d.thumbUri,\n        abstract: e.abstract || d.abstract,\n        word_number: e.word_number || d.wordName,\n        lastChapterTitle: e.last_chapter_title || d.lastChapterTitle,\n        url: `https://fanqienovel.com/page/${d.bookId}`\n      });\n    }\n  }\n  list",
      "bookUrl": "url",
      "coverUrl": "thumb_url",
      "intro": "abstract",
      "kind": "",
      "lastChapter": "lastChapterTitle",
      "name": "book_name",
      "wordCount": "word_number"
    },
    "ruleReview": {},
    "ruleSearch": {
      "author": "author",
      "bookList": ".search_book_data_list[*]",
      "bookUrl": "https://fanqienovel.com/page/{{$..book_id}}?enter_from=search",
      "checkKeyWord": "言出法随：我被认成天道之子",
      "coverUrl": "thumb_url",
      "intro": "book_abstract",
      "kind": "category",
      "lastChapter": "{{java.getString('$..last_chapter_title')}}·{{java.timeFormat(java.getString('$..last_chapter_time')*1000)}}",
      "name": "book_name",
      "wordCount": "word_count"
    },
    "ruleToc": {
      "chapterList": "<js>\n  let defaultVariable = {\n    \"volume\": {\n      \"status\": false,\n      \"mode\": 1,\n      \"spacer\": \" | \",\n      \"emptyVolumeName\": {\n        \"action\": false,\n        \"replace\": \"第一卷：默认\"\n      },\n      \"onlyOneShow\": false\n    }\n  }\n  let variable = (book.getVariable(\"custom\") != \"\" && book.getVariable(\"custom\") != null) ? book.getVariable(\"custom\") : source.getVariable();\n  if(variable != \"\" && variable != null){\n    try{\n      variable = JSON.parse(variable);\n    } catch(err) {\n      java.log(err);\n      variable = defaultVariable;\n    }\n  } else {\n    variable = defaultVariable;\n  }\n  let data = JSON.parse(result).data;\n  let list = data.chapterListWithVolume;\n  let volume = data.volumeNameList;\n  let chapters = [];\n  let volume_names = [];\n  for(let i in list){\n    for(let x in list[i]){\n      let c = list[i][x];\n      if(variable.volume.status == true && variable.volume.mode == 1 && volume_names.indexOf(c.volume_name) == -1){\n        volume_names.push(c.volume_name);\n        if(volume.length != 1 || variable.volume.onlyOneShow){\n          chapters.push({\n            title: ((c.volume_name == \"\" && variable.volume.emptyVolumeName.action == \"replace\" && variable.volume.emptyVolumeName.replace) ? variable.volume.emptyVolumeName.replace : c.volume_name),\n            isVolume: true\n          });\n        }\n      }\n      if(variable.volume.status == true && variable.volume.mode == 2){\n        if(c.volume_name == \"\" && variable.volume.emptyVolumeName.action == \"replace\" && variable.volume.emptyVolumeName.replace){\n          c.title = (c.volume_name == \"\" ? variable.volume.emptyVolumeName.replace : c.volume_name) + (variable.volume.spacer || \" | \") + c.title;\n        } else if(volume.length != 1 || variable.volume.onlyOneShow){\n          c.title = c.volume_name + (variable.volume.spacer || \" | \") + c.title;\n        }\n      }\n      c.url  = `https://fanqienovel.com/reader/${c.itemId}?enter_from=page&force_mobile=1`;\n      chapters.push(c);\n    }\n  }\n  chapters\n</js>",
      "chapterName": "title",
      "chapterUrl": "url",
      "isPay": "isPaidStory||isPaidPublication",
      "isVip": "isChapterLock",
      "isVolume": "isVolume",
      "preUpdateJs": ""
    },
    "searchUrl": "https://fanqienovel.com/api/author/search/search_book/v1?filter=127,127,127,127&page_count=10&page_index={{page-1}}&query_type=0&query_word={{key}}",
    "weight": 0
  }
]